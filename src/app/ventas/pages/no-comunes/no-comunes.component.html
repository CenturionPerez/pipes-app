<div class="text-layout">
    <h1>Pipes no tan comunes</h1>
    <p>
        Piples incluídos en Angular - Usualmente en el Common Module.
    </p>
</div>

<div class="grid">
    <div class="col-6">
        <p-fieldset legend="I18nSelect Pipe" [toggleable]="true">
            <a href="{{api}}I18nSelectPipe">I18nSelect Pipe</a><br><br>
            <p>Saludos {{nombre}}, es un placer {{ genero | i18nSelect:invitacionMapa }} a nuestro evento</p>
            <button (click)="cambiarCliente()" pButton type="button" class="p-button-rounded p-button-help" icon="pi pi-user" label="Cambiar cliente"></button>
        </p-fieldset>
    </div>
    <div class="col-6">
        <p-fieldset legend="I18nPlural Pipe" [toggleable]="true">
            <a href="{{api}}I18nPluralPipe">I18nPlural Pipe</a><br><br>
            <p>Actualmente {{clientes.length | i18nPlural:clientesMapa }}</p>
            <button (click)="borrarCliente()" pButton type="button" class="p-button-rounded p-button-help" icon="pi pi-user" label="Borrar cliente"></button>
        </p-fieldset>
    </div>
    <div class="col-6">
        <p-fieldset legend="Slice Pipe" [toggleable]="true">
            <a href="{{api}}SlicePipe">Slice Pipe</a><br><br>
            <b>slice:0:1 Recoge el valor del arreglo o string de la posicion 0 a la 1.</b><br>
            <b>(Si pusieramos solo el 0 cogeria todas las posiciones)</b><br><br>

            <b>Arreglo Original</b>
            <pre>{{ clientes }}</pre>
            <b>String Original</b>
            <pre>{{ nombre }}</pre>

            <pre><u>Usando arreglo</u> ->{{ clientes | slice:0:1 }}</pre>
            <pre><u>Usando un string</u> ->{{ nombre | slice:0:6 }}</pre>
        </p-fieldset>
    </div>
    <div class="col-6">
        <p-fieldset legend="Json Pipe" [toggleable]="true">
            <a href="{{api}}JsonPipe">Json Pipe</a><br><br>
            <pre>{{ heroes | json }}</pre>
        </p-fieldset>
    </div>
    <div class="col-6">
        <p-fieldset legend="KeyValue Pipe" [toggleable]="true">
            <a href="{{api}}KeyValuePipe">KeyValue Pipe</a><br><br>
            <b>Para utilizarlo tenemos que ir recorriendo con ngFor cada objeto. Por cada objeto se hara un keyValue</b>
            <b>keyValue nos permitirá acceder por cada objeto a sus dos propiedades. "key" y "value".</b>
            <ul>
                <li *ngFor="let persona of personas | keyvalue">{{persona.key}} -> {{persona.value}}</li>
            </ul>
        </p-fieldset>
    </div>
    <div class="col-6">
        <p-fieldset legend="Async Pipe" [toggleable]="true">
            <a href="{{api}}AsyncPipe">Async Pipe</a><br><br>
            <b>Async se suscribe internamente al observable y cada una de sus emisiones las ira imprimiendo</b>
            <br><br><b><u>Usando el interval</u></b><br><b>(Que genera un observable y va emitiendo valores)</b>

            <br><br><b>Cuando usamos observables, por cada async que usemos, estaremos suscribiendonos una vez</b><br>
            <br><pre *ngIf="!(miObservable | async)" >Resolviendo observable... (Primera suscripcion con async)</pre>
            <pre>{{ miObservable | async }} (Segunda suscripcion con async)</pre>

            <br><b><u>Usando promesas</u></b><br><b></b>
            <pre *ngIf="!(valorPromesa | async)" >Resolviendo promesa...</pre>
            <pre>{{ valorPromesa | async }}</pre>
        </p-fieldset>
    </div>
</div>